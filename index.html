<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEEYUH - Premium Clothing</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/bwJ7Y2rX/Untitled-design-(4).png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    
    <!-- LOADING SCREEN -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <img src="https://i.postimg.cc/MTjW4wWf/ezgif-2d6b0522c604bc83.gif" alt="Loading" class="loading-gif">
            <p id="loadingText" class="loading-text">Finding your vibe</p>
        </div>
    </div>

    <!-- CUSTOMER HEADER (Hidden when admin logged in) -->
    <header id="mainHeader" class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="https://i.postimg.cc/x8md44rb/image.png" alt="BEEYUH">
                </div>
                <nav class="nav">
                    <a href="#" class="nav-link active" data-page="home">Home</a>
                    <a href="#" class="nav-link" data-page="products">Products</a>
                    <a href="#" class="nav-link" data-page="track">Track Order</a>
                    <a href="#" class="nav-link" data-page="account">Account</a>
                    <a href="#" class="nav-link admin-link" data-page="admin">Admin</a>
                </nav>
                <button class="cart-button" onclick="openCart()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span id="cartCount" class="cart-count">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ADMIN HEADER (Shown only when admin logged in) -->
    <header id="adminHeader" class="admin-header" style="display: none;">
        <div class="admin-header-content">
            <div class="admin-logo-section">
                <img src="https://i.postimg.cc/x8md44rb/image.png" alt="BEEYUH" class="admin-logo-img">
                <span class="admin-crm-badge">Admin CRM</span>
            </div>
            <div class="admin-header-actions">
                <button class="btn-admin-outline" onclick="exitAdminMode()">
                    <span class="material-symbols-outlined">arrow_back</span>
                    Back to Website
                </button>
                <button class="btn-admin-logout" onclick="adminLogout()">
                    <span class="material-symbols-outlined">logout</span>
                    Logout
                </button>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main id="mainContent" class="main-content">
        
        <!-- HOME PAGE -->
        <section id="homePage" class="page active">
            <div class="collateral-carousel">
                <div id="collateralSlider" class="collateral-slider"></div>
            </div>
            
            <div class="featured-section">
                <div class="container">
                    <h2 class="section-title">Featured Collection</h2>
                    <div id="featuredProducts" class="products-grid"></div>
                </div>
            </div>
        </section>

        <!-- PRODUCTS PAGE -->
        <section id="productsPage" class="page">
            <div class="container">
                <h1 class="page-title">Our Products</h1>
                <div id="productsGrid" class="products-grid"></div>
            </div>
        </section>

        <!-- TRACK ORDER PAGE -->
        <section id="trackPage" class="page">
            <div class="container">
                <div class="track-container">
                    <h1 class="page-title">Track Your Order</h1>
                    <div class="track-form">
                        <input type="text" id="trackOrderId" class="input" placeholder="Enter Order ID">
                        <button class="btn btn-primary" onclick="trackOrder()">TRACK</button>
                    </div>
                    <div id="trackResult" class="track-result"></div>
                </div>
            </div>
        </section>

        <!-- ACCOUNT PAGE -->
        <section id="accountPage" class="page">
            <div class="container">
                <div class="auth-container">
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-tab="login">Login</button>
                        <button class="auth-tab" data-tab="register">Register</button>
                    </div>
                    
                    <div id="loginForm" class="auth-form active">
                        <h2 class="form-title">Customer Login</h2>
                        <input type="email" id="loginEmail" class="input" placeholder="Email">
                        <div class="password-field">
                            <input type="password" id="loginPassword" class="input" placeholder="Password">
                            <span class="password-toggle" onclick="togglePassword('loginPassword')">
                                <span class="material-symbols-outlined">visibility</span>
                            </span>
                        </div>
                        <button class="btn btn-primary" onclick="customerLogin()">Login</button>
                    </div>
                    
                    <div id="registerForm" class="auth-form">
                        <h2 class="form-title">Create Account</h2>
                        <input type="text" id="regFullName" class="input" placeholder="Full Name">
                        <input type="email" id="regEmail" class="input" placeholder="Email">
                        <input type="tel" id="regPhone" class="input" placeholder="Phone Number">
                        <div class="password-field">
                            <input type="password" id="regPassword" class="input" placeholder="Password">
                            <span class="password-toggle" onclick="togglePassword('regPassword')">
                                <span class="material-symbols-outlined">visibility</span>
                            </span>
                        </div>
                        <input type="text" id="regAddress" class="input" placeholder="Address">
                        
                        <div class="searchable-dropdown">
                            <input type="text" id="regCity" class="input dropdown-input" placeholder="Select City" autocomplete="off" oninput="filterDropdown('cityDropdown', this.value)" onfocus="toggleDropdown('cityDropdown')">
                            <div id="cityDropdown" class="dropdown-options"></div>
                        </div>
                        
                        <div class="searchable-dropdown">
                            <input type="text" id="regState" class="input dropdown-input" placeholder="Select State" autocomplete="off" oninput="filterDropdown('stateDropdown', this.value)" onfocus="toggleDropdown('stateDropdown')">
                            <div id="stateDropdown" class="dropdown-options"></div>
                        </div>
                        
                        <input type="text" id="regPincode" class="input" placeholder="Pincode">
                        <button class="btn btn-primary" onclick="registerCustomer()">Register</button>
                    </div>
                    
                    <div id="customerDashboard" class="dashboard">
                        <h2 class="form-title">My Account</h2>
                        <div id="customerInfo" class="customer-info"></div>
                        <button class="btn btn-secondary" onclick="logout()">Logout</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ADMIN PAGE -->
        <section id="adminPage" class="page">
            <div class="admin-page-wrapper">
                <!-- ADMIN LOGIN -->
                <div id="adminLogin" class="auth-form active">
                    <div class="container">
                        <div class="admin-login-card">
                            <h2 class="form-title">Admin Login</h2>
                            <input type="email" id="adminEmail" class="input" placeholder="Admin Email">
                            <div class="password-field">
                                <input type="password" id="adminPassword" class="input" placeholder="Admin Password">
                                <span class="password-toggle" onclick="togglePassword('adminPassword')">
                                    <span class="material-symbols-outlined">visibility</span>
                                </span>
                            </div>
                            <button class="btn btn-primary" onclick="adminLogin()">Login</button>
                        </div>
                    </div>
                </div>
                
                <!-- ADMIN CRM DASHBOARD -->
                <div id="adminDashboard" class="dashboard-crm">
                    <!-- CRM Navigation Tabs -->
                    <div class="crm-tabs">
                        <button class="crm-tab active" data-tab="dashboard" onclick="switchCRMTab('dashboard')">
                            <span class="material-symbols-outlined">dashboard</span>
                            Dashboard
                        </button>
                        <button class="crm-tab" data-tab="orders" onclick="switchCRMTab('orders')">
                            <span class="material-symbols-outlined">shopping_cart</span>
                            Orders
                        </button>
                        <button class="crm-tab" data-tab="customers" onclick="switchCRMTab('customers')">
                            <span class="material-symbols-outlined">people</span>
                            Customers
                        </button>
                        <button class="crm-tab" data-tab="analytics" onclick="switchCRMTab('analytics')">
                            <span class="material-symbols-outlined">analytics</span>
                            Analytics
                        </button>
                    </div>

                    <!-- Dashboard Tab -->
                    <div id="crmDashboard" class="crm-content active">
                        <div class="crm-stats-grid">
                            <div class="crm-stat-card">
                                <div class="stat-icon">
                                    <span class="material-symbols-outlined">shopping_cart</span>
                                </div>
                                <div class="stat-details">
                                    <h3 id="totalOrders">0</h3>
                                    <p>Total Orders</p>
                                </div>
                            </div>
                            <div class="crm-stat-card">
                                <div class="stat-icon pending">
                                    <span class="material-symbols-outlined">schedule</span>
                                </div>
                                <div class="stat-details">
                                    <h3 id="pendingOrders">0</h3>
                                    <p>Pending Orders</p>
                                </div>
                            </div>
                            <div class="crm-stat-card">
                                <div class="stat-icon completed">
                                    <span class="material-symbols-outlined">check_circle</span>
                                </div>
                                <div class="stat-details">
                                    <h3 id="completedOrders">0</h3>
                                    <p>Completed</p>
                                </div>
                            </div>
                            <div class="crm-stat-card">
                                <div class="stat-icon revenue">
                                    <span class="material-symbols-outlined">currency_rupee</span>
                                </div>
                                <div class="stat-details">
                                    <h3 id="totalRevenue">₹0</h3>
                                    <p>Total Revenue</p>
                                </div>
                            </div>
                        </div>

                        <div class="recent-orders-section">
                            <h2 class="section-title">Recent Orders</h2>
                            <div id="recentOrdersTable"></div>
                        </div>
                    </div>

                    <!-- Orders Tab -->
                    <div id="crmOrders" class="crm-content">
                        <div class="crm-section-header">
                            <h2>All Orders</h2>
                            <div class="search-box">
                                <span class="material-symbols-outlined">search</span>
                                <input type="text" id="orderSearch" placeholder="Search orders..." oninput="searchOrders(this.value)">
                            </div>
                        </div>
                        <div id="ordersTableCRM" class="crm-table-container"></div>
                    </div>

                    <!-- Customers Tab -->
                    <div id="crmCustomers" class="crm-content">
                        <div class="crm-section-header">
                            <h2>All Customers</h2>
                            <div class="search-box">
                                <span class="material-symbols-outlined">search</span>
                                <input type="text" id="customerSearch" placeholder="Search customers..." oninput="searchCustomers(this.value)">
                            </div>
                        </div>
                        <div id="customersTableCRM" class="crm-table-container"></div>
                    </div>

                    <!-- Analytics Tab -->
                    <div id="crmAnalytics" class="crm-content">
                        <h2 class="section-title">Sales Analytics</h2>
                        <div class="analytics-grid">
                            <div class="analytics-card">
                                <h3>Orders by Status</h3>
                                <div id="orderStatusChart" class="chart-placeholder">Chart coming soon...</div>
                            </div>
                            <div class="analytics-card">
                                <h3>Revenue Trend</h3>
                                <div id="revenueTrendChart" class="chart-placeholder">Chart coming soon...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ORDER SUCCESS PAGE -->
        <section id="orderSuccessPage" class="page">
            <div class="container">
                <div class="order-result-container">
                    <img src="https://i.postimg.cc/DmkGMhRx/image.png" alt="Success" class="result-icon">
                    <h1 class="result-title success-title">Order Placed Successfully!</h1>
                    <div id="successOrderDetails" class="order-details-box"></div>
                    <div class="result-actions">
                        <button class="btn btn-primary" onclick="navigateTo('products')">Continue Shopping</button>
                        <button class="btn btn-secondary" onclick="navigateTo('track')">Track Order</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ORDER FAILED PAGE -->
        <section id="orderFailedPage" class="page">
            <div class="container">
                <div class="order-result-container">
                    <img src="https://i.postimg.cc/wMdJWHCk/image.png" alt="Failed" class="result-icon">
                    <h1 class="result-title failed-title">Order Failed</h1>
                    <p class="result-message">Sorry, we couldn't process your order. Please try again.</p>
                    <div class="result-actions">
                        <button class="btn btn-primary" onclick="openCart()">Back to Cart</button>
                        <button class="btn btn-secondary" onclick="navigateTo('home')">Back to Home</button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- CART SIDEBAR -->
    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-header">
            <h2>Shopping Cart</h2>
            <button class="close-cart" onclick="closeCart()">&times;</button>
        </div>
        <div id="cartItems" class="cart-items"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">₹0</span>
            </div>
            <button class="btn btn-primary btn-block" onclick="proceedToCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <!-- CHECKOUT MODAL -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content checkout-modal-content">
            <span class="close" onclick="closeCheckoutModal()">&times;</span>
            <h2 class="modal-title">Checkout</h2>
            
            <div class="checkout-form">
                <h3>Shipping Information</h3>
                <input type="text" id="checkoutName" class="input" placeholder="Full Name">
                <input type="email" id="checkoutEmail" class="input" placeholder="Email">
                <input type="tel" id="checkoutPhone" class="input" placeholder="Phone Number">
                <textarea id="checkoutAddress" class="input" placeholder="Full Address" rows="3"></textarea>
                
                <div class="searchable-dropdown">
                    <input type="text" id="checkoutCity" class="input dropdown-input" placeholder="Select City" autocomplete="off" oninput="filterDropdown('checkoutCityDropdown', this.value)" onfocus="toggleDropdown('checkoutCityDropdown')">
                    <div id="checkoutCityDropdown" class="dropdown-options"></div>
                </div>
                
                <div class="searchable-dropdown">
                    <input type="text" id="checkoutState" class="input dropdown-input" placeholder="Select State" autocomplete="off" oninput="filterDropdown('checkoutStateDropdown', this.value)" onfocus="toggleDropdown('checkoutStateDropdown')">
                    <div id="checkoutStateDropdown" class="dropdown-options"></div>
                </div>
                
                <input type="text" id="checkoutPincode" class="input" placeholder="Pincode">
                
                <h3>Payment Method</h3>
                <div class="payment-methods">
                    <label class="payment-option">
                        <input type="radio" name="paymentMethod" value="COD" checked>
                        <span>Cash on Delivery (COD)</span>
                    </label>
                    <label class="payment-option disabled">
                        <input type="radio" name="paymentMethod" value="Card" disabled>
                        <span>Credit/Debit Card (Temporarily Out of Service)</span>
                    </label>
                    <label class="payment-option disabled">
                        <input type="radio" name="paymentMethod" value="UPI" disabled>
                        <span>UPI (Temporarily Out of Service)</span>
                    </label>
                </div>
                
                <div class="checkout-summary">
                    <h3>Order Summary</h3>
                    <div id="checkoutSummary"></div>
                    <div class="checkout-total">
                        <strong>Total Amount:</strong>
                        <strong id="checkoutTotal">₹0</strong>
                    </div>
                </div>
                
                <button class="btn btn-primary btn-block" onclick="placeOrder()">Place Order</button>
            </div>
        </div>
    </div>

    <!-- ORDER UPDATE MODAL -->
    <div id="updateModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUpdateModal()">&times;</span>
            <h2 class="modal-title">Update Order</h2>
            <div id="updateForm" class="update-form">
                <input type="text" id="updateOrderId" class="input" placeholder="Order ID" readonly>
                <select id="updateStatus" class="input">
                    <option value="Order Placed">Order Placed</option>
                    <option value="Processing">Processing</option>
                    <option value="Dispatched">Dispatched</option>
                    <option value="Out for Delivery">Out for Delivery</option>
                    <option value="Delivered">Delivered</option>
                    <option value="Cancelled">Cancelled</option>
                </select>
                <input type="text" id="updateTracking" class="input" placeholder="Tracking Number">
                <input type="text" id="updateCourier" class="input" placeholder="Courier Name">
                <input type="date" id="updateDispatched" class="input" placeholder="Dispatched Date">
                <input type="date" id="updateDelivery" class="input" placeholder="Expected Delivery">
                <textarea id="updateNotes" class="input" placeholder="Notes" rows="3"></textarea>
                <select id="updatePayment" class="input">
                    <option value="Pending">Pending</option>
                    <option value="Paid">Paid</option>
                    <option value="Refunded">Refunded</option>
                </select>
                <button class="btn btn-primary" onclick="submitOrderUpdate()">Update Order</button>
            </div>
        </div>
    </div>

    <!-- INVOICE MODAL -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content invoice-modal-content">
            <span class="close" onclick="closeInvoiceModal()">&times;</span>
            <h2 class="modal-title">Invoice Actions</h2>
            <div class="invoice-actions-grid">
                <button class="btn-invoice" onclick="generatePDFInvoice()">
                    <span class="material-symbols-outlined">picture_as_pdf</span>
                    Download PDF
                </button>
                <button class="btn-invoice" onclick="printInvoice()">
                    <span class="material-symbols-outlined">print</span>
                    Print
                </button>
                <button class="btn-invoice" onclick="emailInvoice()">
                    <span class="material-symbols-outlined">email</span>
                    Email
                </button>
                <button class="btn-invoice" onclick="whatsappInvoice()">
                    <span class="material-symbols-outlined">chat</span>
                    WhatsApp
                </button>
            </div>
            <div id="invoicePreview" class="invoice-preview"></div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer id="mainFooter" class="footer">
        <div class="container">
            <p>&copy; 2025 BEEYUH. All rights reserved.</p>
        </div>
    </footer>

    <script src="Collateral.js"></script>
    <script src="products.js"></script>
    <script src="script.js"></script>
</body>
</html>
